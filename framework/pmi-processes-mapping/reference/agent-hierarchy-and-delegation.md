# Agent Hierarchy and Delegation

Иерархия агентов и правила делегирования (аналог родительского агента и субагентов в Cursor). Используется для проектирования МАС и настройки субагентов по доменам.

## Роли

| Роль | Описание | Соответствие в ProjectAI / Cursor |
|------|----------|-----------------------------------|
| **Оркестратор / координатор** | Получает задачу, распределяет подзадачи по доменам, собирает результаты | Родительский агент (Composer/Agent); при реализации — отдельный оркестратор или PM-агент |
| **Исполнители по доменам** | Выполняют процессы своего Performance Domain, возвращают артефакты | Субагенты Cursor по доменам (Governance, Scope, Schedule, Finance, Stakeholders, Resources, Risk) |

## Соответствие: роль → агенты → домены/процессы

| Уровень | Агенты (примеры) | Домены / процессы |
|---------|-------------------|-------------------|
| Координация | Агент координации, мониторинга проектов, интеграции | Все домены; сбор данных, синхронизация |
| Стратегический | Планирование, риск-менеджмент, Lessons Learned | Governance (5.1, 8.1), Risk, общая декомпозиция |
| Процессный (по доменам) | Управление ролями, зависимости, приоритизация, сроки, адаптация планов, эскалация, моделирование изменений | Scope, Schedule, Stakeholders, Resources, Risk — соответствующие процессы 5.x, 6.x, 7.x |
| Операционный | Загрузка ресурсов, документация, отчёты, задачи, KPI | Resources, Governance (7.1, 7.2), все домены (данные) |

## Правила делегирования

1. **Стратегический → процессы:** оркестратор передаёт подзадачи планирования/рисков в соответствующие доменные агенты (или субагенты).
2. **Процессы → операции:** процессные агенты запрашивают данные у агентов координации, интеграции, мониторинга.
3. **По доменам:** задача, относящаяся к одному домену (например, Risk), делегируется агенту/субагенту этого домена; при необходимости привлекаются смежные домены (например, Stakeholders для коммуникаций о рисках).

Границы контекста и рекомендации по промптам субагентов — в разделах «Контекст для агента (субагента)» в [domain-*.md](../).
